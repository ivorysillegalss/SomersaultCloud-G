syntax = "proto3";

package monitorpb;
option go_package = ".monitor";

// 请求信息
message EmptyRequest {}

message StatusResponse {
  int32 port = 1;
  string ip = 2;
  string status = 3; // health / unhealthy
  uint64 available_mem = 4;
  double cpu_idle_time = 5;
}

service MonitoringService{
  rpc GetStatus(EmptyRequest) returns (StatusResponse);
}